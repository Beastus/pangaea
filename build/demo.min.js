/*! pangaea 2014-05-24 */
$(document).ready(function(){"use strict";var a,b,c,d,e,f,g,h=window.pan||{},i="assets/atlas1.js",j="assets/map1.js";h.settings.enablePlayer=!0,h.canvas.attach("canvasContainer"),$("#flags :checkbox").click(function(){var a=$("#flags").find("input:checkbox");h.settings.enablePlayer=a[0].checked,h.settings.drawFps=a[1].checked,h.settings.enableHitTesting=a[2].checked,h.settings.drawHitRegions=a[3].checked,h.settings.logKeyInput=a[4].checked,c()}),$("#flags").buttonset(),$("#buttonFullscreen").button().click(function(){var a=document.getElementById("canvas");a.requestFullScreen?a.requestFullScreen():a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen&&a.mozRequestFullScreen()}),$("#buttonTest").button().click(function(){h.canvas.reset(),g=!1,f=!1,"assets/atlas1.js"===i?(i="assets/autumn-city-atlas.js",j="assets/autumn-city-map.js"):(i="assets/atlas1.js",j="assets/map1.js"),a()}),$("body").hide().fadeIn(800),window.setTimeout(function(){$("#options").fadeIn(600)},400),a=function(){$.getJSON(i).done(function(a){h.loadAtlasAsync(a,function(a){a&&h.canvas.atlases.push(a),f=!0,g&&h.canvas.start()})}).fail(function(){console.log("Failed to load atlas data.")}),$.getJSON(j).done(function(a){h.canvas.loadMap(a),g=!0,f&&h.canvas.start()}).fail(function(){console.log("Failed to load map data.")})},b=function(){void 0!==e("enablePlayer")&&(h.settings.enablePlayer="true"===e("enablePlayer"),h.settings.drawFps="true"===e("drawFps"),h.settings.enableHitTesting="true"===e("enableHitTesting"),h.settings.drawHitRegions="true"===e("drawHitRegions"),h.settings.logKeyInput="true"===e("logKeyInput"));var a=$("#flags").find("input:checkbox");$(a[0]).attr("checked",h.settings.enablePlayer),$(a[1]).attr("checked",h.settings.drawFps),$(a[2]).attr("checked",h.settings.enableHitTesting),$(a[3]).attr("checked",h.settings.drawHitRegions),$(a[4]).attr("checked",h.settings.logKeyInput),$("#flags").buttonset("refresh")},c=function(){d("enablePlayer",h.settings.enablePlayer),d("drawFps",h.settings.drawFps),d("enableHitTesting",h.settings.enableHitTesting),d("drawHitRegions",h.settings.drawHitRegions),d("logKeyInput",h.settings.logKeyInput)},d=function(a,b){$.cookie(a,b,{expires:7})},e=function(a){return $.cookie(a)},b(),a()});