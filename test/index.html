<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pangaea Test</title>
  <link href="css/style.css" rel="stylesheet">
</head>
<body>

	<div class="content">

		<div id="canvas_container">
		</div>

		<div id="message">
			Work in progress
		</div>

		<div id="tools" style="display: none;">
			<button id="buttonFullscreen">Fullscreen</button>
		</div>

	</div>

	<script src="js/jquery-1.9.1.js"></script>
	<!-- Pangaea scripts -->
	<script src="../src/core.js"></script>
	<script src="../src/util.js"></script>

	<script>
		$(document).ready(function () {
			"use strict";

			$("#buttonFullscreen").click(function () {
				// make the canvas full screen
				var c = document.getElementById("canvas");
				if (c.requestFullScreen) {
					c.requestFullScreen();
				} else if (c.webkitRequestFullScreen) {
					c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
				} else if (c.mozRequestFullScreen) {
					c.mozRequestFullScreen();
				}
			});

			//
			// TEST CODE

			// attack canvas
			pan.canvas.attach($("#canvas_container"));

			if (pan.FLAGS.DRAW_FPS) {
				var DeltaTimer = pan.util.DeltaTimer();
				DeltaTimer.start(60);
			}

			// intiate game loop
			(function gameloop() {

				window.requestAnimationFrame(gameloop);

				// update frame
				pan.canvas.update();
				pan.canvas.render();
				
				// debug code
				if (pan.FLAGS.DRAW_FPS) {
					// display fps stats
					DeltaTimer.ready();
					pan.canvas.context.font = "10pt Calibri";
					pan.canvas.context.fillStyle = "black";
					pan.canvas.context.fillText("FPS - Setting: 60, Actual: " + 
						DeltaTimer.getFrameRate(), 6, 14);
				}
			}());

			// fade in the page
			$("body").hide().fadeIn(800);
		});
	</script>
</body>
</html>