/*! pangaea 2014-05-25 */
$(document).ready(function(){"use strict";function a(){return"object"==typeof window.localStorage?window.localStorage:"object"==typeof window.globalStorage?window.globalStorage:{getItem:function(){},setItem:function(){}}}var b,c,d,e,f,g,h,i=window.pan||{},j="assets/atlas1.js",k="assets/map1.js";i.settings.enablePlayer=!0,i.canvas.attach("canvasContainer"),$("#flags :checkbox").click(function(){var a=$("#flags").find("input:checkbox");i.settings.enablePlayer=a[0].checked,i.settings.drawFps=a[1].checked,i.settings.enableHitTesting=a[2].checked,i.settings.drawHitRegions=a[3].checked,i.settings.logKeyInput=a[4].checked,d()}),$("#flags").buttonset(),$("#buttonFullscreen").button().click(function(){var a=document.getElementById("canvas");a.requestFullScreen?a.requestFullScreen():a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen&&a.mozRequestFullScreen()}),$("#buttonTest").button().click(function(){i.canvas.reset(),h=!1,g=!1,"assets/atlas1.js"===j?(j="assets/autumn-city-atlas.js",k="assets/autumn-city-map.js"):(j="assets/atlas1.js",k="assets/map1.js"),b()}),$("body").hide().fadeIn(800),window.setTimeout(function(){$("#options").fadeIn(600)},400),b=function(){$.getJSON(j).done(function(a){i.loadAtlasAsync(a,function(a){a&&i.canvas.atlases.push(a),g=!0,h&&i.canvas.start()})}).fail(function(){console.log("Failed to load atlas data.")}),$.getJSON(k).done(function(a){i.canvas.loadMap(a),h=!0,g&&i.canvas.start()}).fail(function(){console.log("Failed to load map data.")})},c=function(){void 0!==f("enablePlayer")&&(i.settings.enablePlayer="true"===f("enablePlayer"),i.settings.drawFps="true"===f("drawFps"),i.settings.enableHitTesting="true"===f("enableHitTesting"),i.settings.drawHitRegions="true"===f("drawHitRegions"),i.settings.logKeyInput="true"===f("logKeyInput"));var a=$("#flags").find("input:checkbox");$(a[0]).attr("checked",i.settings.enablePlayer),$(a[1]).attr("checked",i.settings.drawFps),$(a[2]).attr("checked",i.settings.enableHitTesting),$(a[3]).attr("checked",i.settings.drawHitRegions),$(a[4]).attr("checked",i.settings.logKeyInput),$("#flags").buttonset("refresh")},d=function(){e("enablePlayer",i.settings.enablePlayer),e("drawFps",i.settings.drawFps),e("enableHitTesting",i.settings.enableHitTesting),e("drawHitRegions",i.settings.drawHitRegions),e("logKeyInput",i.settings.logKeyInput)},e=function(b,c){var d=a();d.setItem(b,c)},f=function(b){var c=a();return c.getItem(b)},c(),b()});